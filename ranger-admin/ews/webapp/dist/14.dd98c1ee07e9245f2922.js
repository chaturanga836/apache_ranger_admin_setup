"use strict";(self.webpackChunkranger=self.webpackChunkranger||[]).push([[14],{4014:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var r=a(6540),l=a(8651),n=a(6052),s=a(4479),c=a(1105),o=a(2465),i=a(5615),u=a(9423),m=a(5787),d=a(8725),y=a(9828),f=a(4743),b=a.n(f),p=a(8281),h=a(2543),S=a(3666);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t,a,r,l,n,s){try{var c=e[n](s),o=c.value}catch(e){return void a(e)}c.done?t(o):Promise.resolve(o).then(r,l)}const D=function(){var[e,t]=(0,r.useState)([]),[f,D]=(0,r.useState)(!0),[N,O]=r.useState(0),w=(0,r.useRef)(0),[x,P]=(0,r.useState)([]),[k,A]=(0,r.useState)(b().now()),[C,j]=(0,r.useState)({syncDteails:{},showSyncDetails:!1}),[H,M]=(0,r.useState)(!0),[F,B]=(0,r.useState)([]),[T,U]=(0,l.ok)(),[I,L]=(0,r.useState)([]),[z,J]=(0,r.useState)({page:null});(0,r.useEffect)((()=>{var e=b()(b()()).format("MM/DD/YYYY"),{searchFilterParam:t,defaultSearchFilterParam:a,searchParam:r}=(0,S.r8)("userSync",T,R);(0,h.has)(t,"startDate")||(0,h.has)(t,"endDate")||(r.startDate=e,t.startDate=e,a.push({category:"startDate",value:e})),U(r,{replace:!0}),B(t),L(a),localStorage.setItem("userSync",JSON.stringify(r)),M(!1)}),[]),(0,r.useEffect)((()=>{var{searchFilterParam:e,defaultSearchFilterParam:t,searchParam:a}=(0,S.r8)("userSync",T,R);U(a,{replace:!0}),JSON.stringify(F)!==JSON.stringify(e)&&B(e),L(t),localStorage.setItem("userSync",JSON.stringify(a)),M(!1)}),[T]);var G=(0,r.useCallback)(function(){var e,r=(e=function*(e){var{pageSize:r,pageIndex:l,sortBy:n,gotoPage:s}=e;D(!0);var c=[],o=[],i=0,u=++w.current,m=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},F);if(u===w.current){m.pageSize=r,m.startIndex=l*r,n.length>0&&(m.sortBy=(0,S.Cy)(n),m.sortType=(0,S.xi)(n));try{var{fetchApi:d}=yield Promise.resolve().then(a.bind(a,3267));o=(c=yield d({url:"assets/ugsyncAudits",params:m})).data.vxUgsyncAuditInfoList,i=c.data.totalCount}catch(e){(0,S.ig)(e),console.error("Error occurred while fetching User Sync logs! ".concat(e))}t(o),P(c.data),O(Math.ceil(i/r)),J({page:s}),D(!1)}},function(){var t=this,a=arguments;return new Promise((function(r,l){var n=e.apply(t,a);function s(e){g(n,r,l,s,c,"next",e)}function c(e){g(n,r,l,s,c,"throw",e)}s(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[k,F]),Y=()=>{j({syncDteails:{},showSyncDetails:!1})},V=r.useMemo((()=>[{id:"eventTime",desc:!0}]),[]),K=r.useMemo((()=>[{Header:"User Name",accessor:"userName",Cell:e=>e.value?r.createElement("span",{className:"text-truncate text-center d-block",title:e.value},e.value):r.createElement("span",{className:"text-center d-block"},"--"),disableSortBy:!0},{Header:"Sync Source",accessor:"syncSource",Cell:e=>r.createElement("span",{className:"text-center d-block"},r.createElement(n.A,{bg:"success"},e.value)),disableSortBy:!0},{Header:"Number Of New",id:"new",columns:[{Header:"Users",accessor:"noOfNewUsers",Cell:e=>r.createElement("span",{className:"text-center d-block"},e.value),width:100,disableSortBy:!0},{Header:"Groups",accessor:"noOfNewGroups",Cell:e=>r.createElement("span",{className:"text-center d-block"},e.value),width:100,disableSortBy:!0}]},{Header:"Number Of Modified",id:"modified",columns:[{Header:"Users",accessor:"noOfModifiedUsers",Cell:e=>r.createElement("span",{className:"text-center d-block"},e.value),width:100,disableSortBy:!0},{Header:"Groups",accessor:"noOfModifiedGroups",Cell:e=>r.createElement("span",{className:"text-center d-block"},e.value),width:100,disableSortBy:!0}]},{Header:"Event Time",accessor:"eventTime",Cell:e=>{var t=(0,y.Ay)(e.value,"mm/dd/yyyy hh:MM:ss TT");return r.createElement("span",{className:"text-center d-block"},t)},minWidth:170,sortable:!0},{Header:"Sync Details",accessor:"syncSourceInfo",Cell:(e,t)=>e.value?r.createElement("div",{className:"text-center"},r.createElement("button",{className:"btn btn-outline-dark btn-sm","data-id":"syncDetailes","data-cy":"syncDetailes",title:"Sync Details",id:t.id,onClick:()=>{var t;t=e.value,j({syncDteails:t,showSyncDetails:!0})}},r.createElement("i",{className:"fa-fw fa fa-eye"}," "))):" -- ",disableSortBy:!0}]),[]),R=[{category:"endDate",label:"End Date",urlLabel:"endDate",type:"date"},{category:"startDate",label:"Start Date",urlLabel:"startDate",type:"date"},{category:"syncSource",label:"Sync Source",urlLabel:"syncSource",type:"textoptions",options:()=>[{value:"File",label:"File"},{value:"LDAP/AD",label:"LDAP/AD"},{value:"Unix",label:"Unix"}]},{category:"userName",label:"User Name",urlLabel:"userName",type:"text"}];return H?r.createElement(m.aH,null):r.createElement("div",{className:"wrap"},r.createElement(r.Fragment,null,r.createElement(s.A,{className:"mb-2"},r.createElement(c.A,{sm:12},r.createElement("div",{className:"searchbox-border"},r.createElement(p.A,{key:"usersync-audit-search-filter",placeholder:"Search for your user sync audits...",options:(0,h.sortBy)(R,["label"]),onChange:e=>{var{searchFilterParam:t,searchParam:a}=(0,S.kI)(e,R);B(t),U(a,{replace:!0}),localStorage.setItem("userSync",JSON.stringify(a)),"function"==typeof(null==z?void 0:z.page)&&z.page(0)},defaultSelected:I})))),r.createElement(m.IU,{entries:x,refreshTable:()=>{t([]),D(!0),A(b().now())}}),r.createElement(u.A,{data:e,columns:K,loading:f,totalCount:x&&x.totalCount,fetchData:G,pageCount:N,columnSort:!0,defaultSort:V}),r.createElement(o.A,{show:C&&C.showSyncDetails,onHide:Y,size:"xl"},r.createElement(o.A.Header,null,r.createElement(o.A.Title,null,"Sync Source Details")),r.createElement(o.A.Body,null,r.createElement(d.l,{syncDetails:C.syncDteails})),r.createElement(o.A.Footer,null,r.createElement(i.A,{variant:"primary",size:"sm",onClick:Y},"OK")))))}},8725:(e,t,a)=>{a.d(t,{l:()=>c});var r=a(6540),l=a(2431),n=a(1376),s=a(9828);function c(e){return 0==Object.keys(e.syncDetails).length?r.createElement(r.Fragment,null,r.createElement(l.A,{bordered:!0,size:"sm"},r.createElement("thead",{className:"thead-light"},r.createElement("tr",null,r.createElement("th",{className:" text-center"},"Name"),r.createElement("th",{className:" text-center"},"Value"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"text-center text-muted",colSpan:"2"},"No Sync Details Found!!"))))):r.createElement(r.Fragment,null,r.createElement(l.A,{bordered:!0,size:"sm"},r.createElement("thead",{className:"thead-light"},r.createElement("tr",null,r.createElement("th",{className:" text-center"},"Name"),r.createElement("th",{className:" text-center"},"Value"))),r.createElement("tbody",null,Object.entries(e.syncDetails).map((e=>{var[t,a]=e;return r.createElement("tr",{key:t},r.createElement("td",null,n.im[t]?n.im[t]:t),r.createElement("td",null,a?"syncTime"==t||"lastModified"==t?(0,s.Ay)(a,"mm/dd/yyyy hh:MM:ss TT"):a:"--"))})))))}}}]);