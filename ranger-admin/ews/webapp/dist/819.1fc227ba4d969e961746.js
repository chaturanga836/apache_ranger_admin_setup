"use strict";(self.webpackChunkranger=self.webpackChunkranger||[]).push([[819],{8342:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(6540);function s(){const[,e]=(0,a.useReducer)((e=>!e),!1);return e}},9409:(e,t,r)=>{r.d(t,{A:()=>s});const a=r(6540).createContext(null);a.displayName="NavContext";const s=a},1406:(e,t,r)=>{r.d(t,{A:()=>n,u:()=>s});var a=r(6540);const s=(e,t=null)=>null!=e?String(e):t||null,n=a.createContext(null)},3593:(e,t,r)=>{r.d(t,{iC:()=>s});var a=r(6540);function s(e,t,r){const s=(0,a.useRef)(void 0!==e),[n,o]=(0,a.useState)(t),l=void 0!==e,i=s.current;return s.current=l,!l&&i&&n!==t&&o(t),[l?e:n,(0,a.useCallback)(((...e)=>{const[t,...a]=e;let s=null==r?void 0:r(t,...a);return o(t),s}),[r])]}},2885:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(6540),s=r(8106);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(this,arguments)}const o=e=>t=>{var r=(0,s.zy)(),o=(0,s.Zp)(),l=(0,s.g)();return a.createElement(e,n({navigate:o,location:r,params:l},t))}},5684:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var a=r(6540),s=r(5056),n=r(5265),o=r(4479),l=r(1105),i=r(5615),c=r(952),d=r(6474),m=r(4283),u=r(3666),p=r(5787),E=r(2885),f=r(1376),v=r(2543),N=r(6696),w=r(3267);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h.apply(this,arguments)}function A(e,t,r,a,s,n,o){try{var l=e[n](o),i=l.value}catch(e){return void r(e)}l.done?t(i):Promise.resolve(i).then(a,s)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var n=e.apply(t,r);function o(e){A(n,a,s,o,l,"next",e)}function l(e){A(n,a,s,o,l,"throw",e)}o(void 0)}))}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends a.Component{constructor(e){var t;super(e),t=this,b(this,"updateUserInfo",function(){var e=g((function*(e){var r=(0,v.cloneDeep)((0,m.VM)());r.firstName=e.firstName,r.emailAddress=e.emailAddress,r.lastName=e.lastName;try{t.setState({blockUI:!0});var a=yield(0,w.fetchApi)({url:"users",method:"put",data:r,skipNavigate:!0});t.setState({blockUI:!1}),(0,v.has)(a,"data")&&(a.data.configProperties=r.configProperties),(0,m.p)(a.data),t.props.navigate("/"),d.oR.success("Successfully updated user profile")}catch(e){var s,n;t.setState({blockUI:!1}),void 0!==(null==e?void 0:e.response)&&(0,v.has)(null==e?void 0:e.response,"data.msgDesc")&&d.oR.error("Error occurred while updating user profile! ".concat(null==e||null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.msgDesc)),console.error("Error occurred while updating user profile! ".concat(e))}}));return function(t){return e.apply(this,arguments)}}()),b(this,"updatePassword",function(){var e=g((function*(e){var r=(0,m.VM)(),a={loginId:r.loginId,oldPassword:e.oldPassword,updPassword:e.newPassword};try{t.setState({blockUI:!0}),yield(0,w.fetchApi)({url:"users/"+r.id+"/passwordchange",method:"post",data:a,skipNavigate:!0}),t.setState({blockUI:!1}),d.oR.success("Successfully updated user password"),t.props.navigate("/")}catch(e){var s,n,o,l;t.setState({blockUI:!1}),!(0,v.has)(null==e?void 0:e.response,"data.msgDesc")||"serverMsg.userMgrOldPassword"!=(null==e||null===(s=e.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.msgDesc)&&"serverMsg.userMgrNewPassword"!=(null==e||null===(o=e.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.msgDesc)||d.oR.error("Error occured while updating user password!"),console.error("Error occurred while updating user password! ".concat(e))}}));return function(t){return e.apply(this,arguments)}}()),b(this,"validatePasswordForm",(e=>{var t={};return e.oldPassword||(t.oldPassword="Required"),e.newPassword||(t.newPassword="Required"),(0,v.has)(e,"newPassword")&&!f.hp.PASSWORD.regexExpression.test(e.newPassword)&&(t.newPassword=f.hp.PASSWORD.message),e.reEnterPassword?(0,v.has)(e,"newPassword")&&e.newPassword!==e.reEnterPassword&&(t.reEnterPassword="Re-enter New Password must match with New Password"):t.reEnterPassword="Required",(0,v.has)(e,"oldPassword")&&(0,v.has)(e,"newPassword")&&e.oldPassword===e.newPassword&&(t.newPassword="New Password cannot be same as Old Password"),t})),b(this,"validateUserForm",(e=>{var t={};return e.firstName||(t.firstName="Required"),(0,v.has)(e,"firstName")&&!f.hp.NAME_VALIDATION.regexExpressionForFirstAndLastName.test(e.firstName)&&(t.firstName=N.Nz.MESSAGE.firstNameValidationMsg),(0,v.isEmpty)(null==e?void 0:e.lastName)||f.hp.NAME_VALIDATION.regexExpressionForFirstAndLastName.test(e.lastName)||(t.lastName=N.Nz.MESSAGE.lastNameValidationMsg),(0,v.isEmpty)(e.emailAddress)||f.hp.EMAIL_VALIDATION.regexExpressionForEmail.test(e.emailAddress)||(t.emailAddress=f.hp.EMAIL_VALIDATION.message),t})),this.state={isAdminRole:(0,u.FV)()||(0,u.Xm)(),blockUI:!1}}render(){var e=(0,m.VM)(),{isAdminRole:t,blockUI:r}=this.state,d=!(e.userSource===f.zO.USER_INTERNAL.value&&t);return a.createElement("div",null,a.createElement("div",{className:"header-wraper"},a.createElement("h3",{className:"wrap-header bold"},"User Profile")),a.createElement("div",{className:"wrap"},a.createElement(p.Yh,{isUiBlock:r}),a.createElement(s.A.Container,{transition:!1,defaultActiveKey:"edit-basic-info"},e.userSource==f.zO.USER_INTERNAL.value&&a.createElement(n.A,{variant:"tabs"},a.createElement(n.A.Item,null,a.createElement(n.A.Link,{eventKey:"edit-basic-info"},a.createElement("i",{className:"fa-fw fa fa-edit bigger-125"}),"Basic Info")),a.createElement(n.A.Item,null,a.createElement(n.A.Link,{eventKey:"edit-password"},a.createElement("i",{className:"fa-fw fa fa-key bigger-125"}),"Change Password"))),a.createElement("div",{className:"user-profile"},a.createElement(s.A.Content,null,a.createElement(s.A.Pane,{eventKey:"edit-basic-info"},a.createElement(c.lV,{onSubmit:this.updateUserInfo,validate:this.validateUserForm,initialValues:{firstName:e.firstName,lastName:e.lastName,emailAddress:e.emailAddress,userRoleList:e.userRoleList[0]},render:e=>{var{handleSubmit:t,form:r,invalid:s,errors:n}=e;return a.createElement("form",{onSubmit:e=>{if(s){var r=document.getElementById("isError")||document.querySelector("input[name=".concat(Object.keys(n)[0],"]"));(0,p.Nc)(r)}t(e)}},a.createElement(c.D0,{name:"firstName"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"First Name *")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{type:"text",name:"firstName",placeholder:"First Name",id:r.error&&r.touched?"isError":"firstName",className:r.error&&r.touched?"form-control border-danger":"form-control",disabled:d,"data-cy":"firstName"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:N.Nz.MESSAGE.firstNameValidationMsg}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement(c.D0,{name:"lastName"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Last Name")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{type:"text",name:"lastName",placeholder:"Last Name",id:r.error&&r.touched?"isError":"lastName",className:r.error&&r.touched?"form-control border-danger":"form-control",disabled:d,"data-cy":"lastName"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:N.Nz.MESSAGE.lastNameValidationMsg}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement(c.D0,{name:"emailAddress"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Email Address")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{name:"emailAddress",type:"email",placeholder:"Email Address",id:r.error&&r.touched?"isError":"emailAddress",className:r.error&&r.touched?"form-control border-danger":"form-control",disabled:d,"data-cy":"emailAddress"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:N.Nz.MESSAGE.emailvalidationinfomessage}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Select Role *")),a.createElement(l.A,{xs:4},a.createElement(c.D0,{name:"userRoleList",component:"select",className:"form-control",disabled:!0},a.createElement("option",{value:"ROLE_SYS_ADMIN"},"Admin"),a.createElement("option",{value:"ROLE_KEY_ADMIN"},"KeyAdmin"),a.createElement("option",{value:"ROLE_USER"},"User"),a.createElement("option",{value:"ROLE_ADMIN_AUDITOR"},"Auditor"),a.createElement("option",{value:"ROLE_KEY_ADMIN_AUDITOR"},"KeyAuditor")))),a.createElement("div",{className:"row form-actions"},a.createElement("div",{className:"col-md-9 offset-md-3"},a.createElement(i.A,{variant:"primary",type:"submit",size:"sm",disabled:d,"data-id":"save","data-cy":"save"},"Save"),a.createElement(i.A,{variant:"secondary",type:"button",size:"sm",onClick:()=>{r.reset(),this.props.navigate("/")},"data-id":"cancel","data-cy":"cancel"},"Cancel"))))}}))),a.createElement(s.A.Content,null,a.createElement(s.A.Pane,{eventKey:"edit-password"},a.createElement(c.lV,{onSubmit:this.updatePassword,validate:this.validatePasswordForm,render:e=>{var{handleSubmit:t,form:r,submitting:s,invalid:n,errors:d}=e;return a.createElement("form",{onSubmit:e=>{if(n){var r=document.getElementById("isError")||document.getElementById(Object.keys(d)[0])||document.querySelector("input[name=".concat(Object.keys(d)[0],"]"))||document.querySelector("input[id=".concat(Object.keys(d)[0],"]"))||document.querySelector('span[className="invalid-field"]');(0,p.Nc)(r)}t(e)}},a.createElement(c.D0,{name:"oldPassword"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Old Password *")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{type:"password",autoComplete:"off",name:"oldPassword",placeholder:"Old Password",id:r.error&&r.touched?"isError":"oldPassword",className:r.error&&r.touched?"form-control border-danger":"form-control","data-cy":"oldPassword"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:a.createElement("p",{className:"pd-10 mb-0",style:{fontSize:"small"}},f.hp.PASSWORD.message)}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement(c.D0,{name:"newPassword"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"New Password *")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{type:"password",autoComplete:"off",name:"newPassword",placeholder:"New Password",id:r.error&&r.touched?"isError":"newPassword",className:r.error&&r.touched?"form-control border-danger":"form-control","data-cy":"newPassword"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:a.createElement("p",{className:"pd-10 mb-0",style:{fontSize:"small"}},f.hp.PASSWORD.message)}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement(c.D0,{name:"reEnterPassword"},(e=>{var{input:t,meta:r}=e;return a.createElement(o.A,{className:"form-group"},a.createElement(l.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Re-enter New Password *")),a.createElement(l.A,{xs:4,className:"position-relative"},a.createElement("input",h({},t,{type:"password",autoComplete:"off",name:"reEnterPassword",placeholder:"Re-enter New Password",id:r.error&&r.touched?"isError":"reEnterPassword",className:r.error&&r.touched?"form-control border-danger":"form-control","data-cy":"reEnterPassword"})),a.createElement(u.mo,{css:"input-box-info-icon",position:"right",message:a.createElement("p",{className:"pd-10 mb-0",style:{fontSize:"small"}},f.hp.PASSWORD.message)}),r.error&&r.touched&&a.createElement("span",{className:"invalid-field"},r.error)))})),a.createElement("div",{className:"row form-actions"},a.createElement("div",{className:"col-md-9 offset-md-3"},a.createElement(i.A,{variant:"primary",type:"submit",size:"sm",disabled:s,"data-id":"save","data-cy":"save"},"Save"),a.createElement(i.A,{variant:"secondary",type:"button",size:"sm",onClick:()=>{r.reset(),this.props.navigate("/")},"data-id":"cancel","data-cy":"cancel"},"Cancel"))))}})))))))}}const P=(0,E.A)(y)},4778:(e,t,r)=>{r.d(t,{A:()=>s});const a=r(6540).createContext(null);a.displayName="NavbarContext";const s=a},3059:(e,t,r)=>{r.d(t,{Cc:()=>c});var a=r(6540);const s={prefix:String(Math.round(1e10*Math.random())),current:0},n=a.createContext(s),o=a.createContext(!1);let l=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),i=new WeakMap;const c="function"==typeof a.useId?function(e){let t=a.useId(),[r]=(0,a.useState)("function"==typeof a.useSyncExternalStore?a.useSyncExternalStore(u,d,m):(0,a.useContext)(o));return e||`${r?"react-aria":`react-aria${s.prefix}`}-${t}`}:function(e){let t=(0,a.useContext)(n);t!==s||l||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=function(e=!1){let t=(0,a.useContext)(n),r=(0,a.useRef)(null);if(null===r.current&&!e){var s,o;let e=null===(o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(s=o.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let r=i.get(e);null==r?i.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==r.state&&(t.current=r.id,i.delete(e))}r.current=++t.current}return r.current}(!!e),o=`react-aria${t.prefix}`;return e||`${o}-${r}`};function d(){return!1}function m(){return!0}function u(e){return()=>{}}}}]);