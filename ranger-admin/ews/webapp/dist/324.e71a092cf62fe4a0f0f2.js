"use strict";(self.webpackChunkranger=self.webpackChunkranger||[]).push([[324],{1659:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(6540),n=r(8106);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],{navigator:r}=(0,a.useContext)(n.jb);(0,a.useEffect)((()=>{if(t){var a=r.block((t=>{var r=c(c({},t),{},{retry(){a(),setTimeout((()=>{t.retry()}),0)}});e(r)}));return a}}),[r,e,t])}((0,a.useCallback)((t=>{window.confirm(e)&&t.retry()}),[e]),t)}},8725:(e,t,r)=>{r.d(t,{l:()=>l});var a=r(6540),n=r(2431),o=r(1376),c=r(9828);function l(e){return 0==Object.keys(e.syncDetails).length?a.createElement(a.Fragment,null,a.createElement(n.A,{bordered:!0,size:"sm"},a.createElement("thead",{className:"thead-light"},a.createElement("tr",null,a.createElement("th",{className:" text-center"},"Name"),a.createElement("th",{className:" text-center"},"Value"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{className:"text-center text-muted",colSpan:"2"},"No Sync Details Found!!"))))):a.createElement(a.Fragment,null,a.createElement(n.A,{bordered:!0,size:"sm"},a.createElement("thead",{className:"thead-light"},a.createElement("tr",null,a.createElement("th",{className:" text-center"},"Name"),a.createElement("th",{className:" text-center"},"Value"))),a.createElement("tbody",null,Object.entries(e.syncDetails).map((e=>{var[t,r]=e;return a.createElement("tr",{key:t},a.createElement("td",null,o.im[t]?o.im[t]:t),a.createElement("td",null,r?"syncTime"==t||"lastModified"==t?(0,c.Ay)(r,"mm/dd/yyyy hh:MM:ss TT"):r:"--"))})))))}},1324:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var a=r(6540),n=r(4479),o=r(1105),c=r(5615),l=r(952),s=r(6474),i=r(3666),u=r(8725),p=r(5787),m=r(8106),d=r(1659),f=r(3267),b=r(1376);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y.apply(this,arguments)}function E(e,t,r,a,n,o,c){try{var l=e[o](c),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(a,n)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function c(e){E(o,a,n,c,l,"next",e)}function l(e){E(o,a,n,c,l,"throw",e)}c(void 0)}))}}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N={groupInfo:{},groupType:{},loader:!0,preventUnBlock:!1,blockUI:!1},D=e=>{var{isDirtyField:t,isUnblock:r}=e;return(0,d.A)("Are you sure you want to leave",t&&!r),null},w=(e,t)=>{switch(t.type){case"SET_LOADER":return h(h({},e),{},{loader:t.loader});case"SET_GROUP_DATA":return h(h({},e),{},{groupInfo:t.groupInfo,groupType:t.groupType,loader:t.loader});case"SET_PREVENT_ALERT":return h(h({},e),{},{preventUnBlock:t.preventUnBlock});case"SET_BLOCK_UI":return h(h({},e),{},{blockUI:t.blockUI});default:throw new Error}};const A=function(){var e=(0,m.g)(),[t,r]=(0,a.useReducer)(w,N),{groupType:d,groupInfo:E,loader:v,preventUnBlock:O,blockUI:A}=t,{state:k}=(0,m.zy)(),I=(0,m.Zp)();(0,a.useEffect)((()=>{null!=e&&e.groupID?P(e.groupID):r({type:"SET_LOADER",loader:!1})}),[]);var j,P=function(){var e=g((function*(e){var t,a,n,o;try{o=yield(0,f.fetchApi)({url:"xusers/secure/groups/"+e})}catch(e){console.error("Error occurred while fetching Group or CSRF headers! ".concat(e))}r({type:"SET_GROUP_DATA",groupInfo:null===(t=o)||void 0===t?void 0:t.data,groupType:null===(a=o)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.groupType,loader:!1})}));return function(t){return e.apply(this,arguments)}}(),S=function(){var t=g((function*(t){var a={};a.name=t.name,a.description=t.description||"";var n=h(h({},E),a);if(r({type:"SET_PREVENT_ALERT",preventUnBlock:!0}),null!=e&&e.groupID)try{r({type:"SET_BLOCK_UI",blockUI:!0}),yield(0,f.fetchApi)({url:"xusers/secure/groups/".concat(e.groupID),method:"put",data:n}),r({type:"SET_BLOCK_UI",blockUI:!1}),s.oR.success("Group updated successfully!!"),self.location.hash="#/users/grouptab"}catch(e){r({type:"SET_BLOCK_UI",blockUI:!1}),(0,i.ig)(e),console.error("Error occurred while updating group  ".concat(e))}else try{r({type:"SET_BLOCK_UI",blockUI:!0}),yield(0,f.fetchApi)({url:"xusers/secure/groups",method:"post",data:a});var o={};k&&null!=k&&(o=k.tblpageData,k.tblpageData.pageRecords%k.tblpageData.pageSize==0?o.totalPage=k.tblpageData.totalPage+1:void 0!==o&&(o.totalPage=k.tblpageData.totalPage)),r({type:"SET_BLOCK_UI",blockUI:!1}),s.oR.success("Group created successfully!!"),I("/users/grouptab",{state:{showLastPage:!0,addPageData:o}})}catch(e){r({type:"SET_BLOCK_UI",blockUI:!1}),(0,i.ig)(e),console.error("Error occurred while creating group  ".concat(e))}}));return function(e){return t.apply(this,arguments)}}();return a.createElement("div",null,a.createElement("div",{className:"header-wraper"},a.createElement("h3",{className:"wrap-header bold"},"Group Detail"),(0,i.zH)(["Groups",e.groupID?"GroupEdit":"GroupCreate"],e.groupID)),v?a.createElement(p.aH,null):a.createElement(l.lV,{onSubmit:S,validate:e=>{var t={};return e.name?b.hp.NAME_VALIDATION.regexExpressionForName.test(e.name)||(t.name=b.hp.NAME_VALIDATION.nameValidationMessage):t.name="Required",t},initialValues:(j={},null!=e&&e.groupID&&Object.keys(E).length>0&&(j.name=E.name,j.description=E.description),j),render:t=>{var{handleSubmit:s,form:i,submitting:m,invalid:f,errors:g,values:v,dirty:h}=t;return a.createElement("div",{className:"wrap user-role-grp-form"},a.createElement(D,{isDirtyField:h,isUnblock:O}),a.createElement("form",{onSubmit:e=>{s(e)}},a.createElement(l.D0,{name:"name"},(t=>{var{input:r,meta:c}=t;return a.createElement(n.A,{className:"form-group"},a.createElement(o.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Group Name *")),a.createElement(o.A,{xs:4,className:"position-relative"},a.createElement("input",y({},r,{type:"text",name:"name",onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},placeholder:"Group Name",id:c.error&&c.touched?"isError":"name",className:c.error&&c.touched?"form-control border-danger":"form-control",disabled:!(!e.groupID||!E||E.groupSource!=b.hg.XA_GROUP.value),"data-cy":"name"})),a.createElement("span",{className:"input-box-info-icon"},a.createElement(p.VO,{placement:"right",content:a.createElement("p",{className:"pd-10",style:{fontSize:"small"}},"1. User name should be start with alphabet / numeric / underscore / non-us characters.",a.createElement("br",null),"2. Allowed special character ,._-+/@= and space.",a.createElement("br",null),"3. Name length should be greater than one."),icon:"fa-fw fa fa-info-circle"})),c.error&&c.touched&&a.createElement("span",{className:"invalid-field"},c.error)))})),a.createElement(l.D0,{name:"description"},(t=>{var{input:r}=t;return a.createElement(n.A,{className:"form-group"},a.createElement(o.A,{xs:3},a.createElement("label",{className:"form-label float-end"},"Description")),a.createElement(o.A,{xs:4},a.createElement("textarea",y({},r,{placeholder:"Description",className:"form-control",disabled:!(!e.groupID||!E||E.groupSource!=b.hg.XA_GROUP.value),id:"description","data-cy":"description"}))))})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement("p",{className:"form-header mg-0"},"Sync Details :"),a.createElement("div",{className:"wrap"},a.createElement(u.l,{syncDetails:Object.keys(E).length>0&&E.otherAttributes?JSON.parse(E.otherAttributes):{}})))),a.createElement("div",{className:"row form-actions"},a.createElement("div",{className:"col-md-9 offset-md-3"},a.createElement(c.A,{variant:"primary",onClick:()=>{if(f){var e=document.getElementById("isError")||document.getElementById(Object.keys(g)[0])||document.querySelector("input[name=".concat(Object.keys(g)[0],"]"))||document.querySelector("input[id=".concat(Object.keys(g)[0],"]"))||document.querySelector('span[className="invalid-field"]');(0,p.Nc)(e)}s(v)},size:"sm",disabled:1===d||m,"data-id":"save","data-cy":"save"},"Save"),a.createElement(c.A,{variant:"secondary",type:"button",size:"sm",onClick:()=>{i.reset,r({type:"SET_PREVENT_ALERT",preventUnBlock:!0}),I("/users/grouptab")},"data-id":"cancel","data-cy":"cancel"},"Cancel")))))}}),a.createElement(p.Yh,{isUiBlock:A}))}},2431:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(6942),n=r.n(a),o=r(6540),c=r(6519),l=r(4848);const s=o.forwardRef((({bsPrefix:e,className:t,striped:r,bordered:a,borderless:o,hover:s,size:i,variant:u,responsive:p,...m},d)=>{const f=(0,c.oU)(e,"table"),b=n()(t,f,u&&`${f}-${u}`,i&&`${f}-${i}`,r&&`${f}-${"string"==typeof r?`striped-${r}`:"striped"}`,a&&`${f}-bordered`,o&&`${f}-borderless`,s&&`${f}-hover`),y=(0,l.jsx)("table",{...m,className:b,ref:d});if(p){let e=`${f}-responsive`;return"string"==typeof p&&(e=`${e}-${p}`),(0,l.jsx)("div",{className:e,children:y})}return y}))}}]);